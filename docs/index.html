<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Interface to Hydroscope • hydroscoper</title>
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-vignette">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">hydroscoper</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/kyy_data.html">Using hydroscoper to get stations' and time-series' data</a>
    </li>
  </ul>
</li>
<li>
  <a href="news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/kvantas/hydroscoper">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9">
    

    
    
<div class="contents">
<!-- README.md is generated from README.Rmd. Please edit that file -->

<p><img src="reference/figures/hydroscoper_hex.png" align="right" height="220"></p>
<p><code>hydroscoper</code> is an R interface to the Greek National Data Bank for Hydrological and Meteorological Information, <a href="http://www.hydroscope.gr/">Hydroscope</a>. Hydroscope is the result of long-standing efforts by numerous Greek scientists in collaboration with various companies and associations. It was implemented in three phases, funded by the Ministry of Development, the Ministry of Environment and Energy and the European Union.</p>
<p>Hydroscope, provides several national data sources from various organisations via a web interface. Each participating organisation keeps its data on its own server using the Enhydris database system for the storage and management of hydrological and meteorological data. These organisations are:</p>
<ul>
<li>Ministry of Environment and Energy.</li>
<li>Ministry of Rural Development and Food.</li>
<li>National Meteorological Service.</li>
<li>National Observatory of Athens.</li>
<li>Greek Prefectures.</li>
<li>Public Power Corporation.</li>
</ul>
<p>The data are structured as tables and space separated text files, but are in Greek, thus limiting their usefulness.</p>
<p><code>hydroscoper</code> covers Hydroscope’s data sources using the <a href="http://enhydris.readthedocs.io/en/latest/index.html">Enhydris API</a> and provides functions to:</p>
<ol type="1">
<li>Transform the available tables and data sets into tidy data frames.</li>
<li>Transliterate the Greek Unicode names to Latin.</li>
<li>Translate various Greek terms to English.</li>
</ol>
<section id="data-sources" class="level2"><h2>Data sources</h2>
<ul>
<li>Ministry of Environment and Energy, National Observatory of Athens and Greek Prefectures, <a href="http://kyy.hydroscope.gr/" class="uri">http://kyy.hydroscope.gr/</a>
</li>
<li>Ministry of Rural Development and Food, <a href="http://ypaat.hydroscope.gr" class="uri">http://ypaat.hydroscope.gr</a>
</li>
<li>National Meteorological Service, <a href="http://emy.hydroscope.gr" class="uri">http://emy.hydroscope.gr</a>
</li>
<li>Greek Public Power Corporation, <a href="http://deh.hydroscope.gr" class="uri">http://deh.hydroscope.gr</a>
</li>
</ul>
<p>Note that only the two Ministries allow to download time series values freely.</p>
</section><section id="installation" class="level2"><h2>Installation</h2>
<p>Install the stable release from CRAN with:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="kw">install.packages</span>(<span class="st">"hydroscoper"</span>)</a></code></pre></div>
<p>You can install the development version from GitHub with:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co"># install.packages("devtools")</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"kvantas/hydroscoper"</span>)</a></code></pre></div>
</section><section id="using-hydroscoper" class="level2"><h2>Using hydroscoper</h2>
<p>The functions that are provided by <code>hydroscoper</code> are:</p>
<ul>
<li>
<code>get_stations, get_timeseries, get_instruments, get_water_basins, get_water_divisions, get_political_divisions, get_variables, get_units_of_measurement, get_time_steps, get_owners, get_instruments_type, get_station_type, get_database</code> family functions, to retrieve a data frame with Hydroscope’s data for a given data source.</li>
<li>
<code>get_data</code>, to retrieve a tidy data frame with values of a time series</li>
<li>
<code>get_coords</code>, to convert Hydroscope’s points raw format to a tidy data frame</li>
<li>
<code>hydro_translate</code> to translate various terms and names from Greek to English</li>
</ul>
<p>The data sets that are provided by <code>hydroscoper</code> are:</p>
<ul>
<li>
<code>stations</code> a tidy data frame with stations’ data from all Hydroscope’s data sources</li>
<li>
<code>timeseries</code> a tidy data frame with time series’ data from all Hydroscope’s sources sources.</li>
</ul></section><section id="example" class="level2"><h2>Example</h2>
<p>This is a basic example which shows you how to get the stations’ and timeseries data from the Hydroscope’s Ministry of Environment and Energy database, <a href="http://kyy.hydroscope.gr/" class="uri">http://kyy.hydroscope.gr/</a>.</p>
<p>We will use the the package’s data <code>stations</code> and <code>timeseries</code>, to reduce the time needed with data munging. We can subset the station’s data for the <code>kyy</code> subdomain with:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw">library</span>(hydroscoper)</a>
<a class="sourceLine" id="cb3-2" data-line-number="2"><span class="kw">library</span>(tibble)</a>
<a class="sourceLine" id="cb3-3" data-line-number="3"></a>
<a class="sourceLine" id="cb3-4" data-line-number="4">kyy_stations &lt;-<span class="st"> </span><span class="kw">subset</span>(stations, subdomain <span class="op">==</span><span class="st"> "kyy"</span>)</a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="kw">as_tibble</span>(kyy_stations)</a>
<a class="sourceLine" id="cb3-6" data-line-number="6"><span class="co">#&gt; # A tibble: 425 x 9</span></a>
<a class="sourceLine" id="cb3-7" data-line-number="7"><span class="co">#&gt;    station_id name       water_ba~ water_~ owner   long~ lati~ alti~ subd~</span></a>
<a class="sourceLine" id="cb3-8" data-line-number="8"><span class="co">#&gt;  *      &lt;int&gt; &lt;chr&gt;      &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;</span></a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="co">#&gt;  1     501032 AG. BASIL~ "KOURTAL~ GR13    min_ag~  NA    NA      NA kyy  </span></a>
<a class="sourceLine" id="cb3-10" data-line-number="10"><span class="co">#&gt;  2     200246 GEPH. KOK~ "ALPHEIO~ GR01    min_en~  22.0  37.5   318 kyy  </span></a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="co">#&gt;  3     200237 TROPAIA    "ALPHEIO~ GR01    min_en~  22.0  37.7   728 kyy  </span></a>
<a class="sourceLine" id="cb3-12" data-line-number="12"><span class="co">#&gt;  4     200231 BYTINA     "ALPHEIO~ GR01    min_en~  22.2  37.7  1011 kyy  </span></a>
<a class="sourceLine" id="cb3-13" data-line-number="13"><span class="co">#&gt;  5     200200 LYKOURIA   "ALPHEIO~ GR01    min_en~  22.2  37.9   758 kyy  </span></a>
<a class="sourceLine" id="cb3-14" data-line-number="14"><span class="co">#&gt;  6     200236 MEGALOPOLE "ALPHEIO~ GR01    min_en~  22.1  37.4   429 kyy  </span></a>
<a class="sourceLine" id="cb3-15" data-line-number="15"><span class="co">#&gt;  7     200244 ODOG. AG.~ "REMA CH~ GR01    min_en~  21.8  37.0   182 kyy  </span></a>
<a class="sourceLine" id="cb3-16" data-line-number="16"><span class="co">#&gt;  8     200204 TRIPOTAMA  "ALPHEIO~ GR01    min_en~  21.9  37.9   570 kyy  </span></a>
<a class="sourceLine" id="cb3-17" data-line-number="17"><span class="co">#&gt;  9     200198 KASTELLIO  "ALPHEIO~ GR01    min_en~  22.0  37.9   792 kyy  </span></a>
<a class="sourceLine" id="cb3-18" data-line-number="18"><span class="co">#&gt; 10     200239 PERDIKONE~ "ALPHEIO~ GR01    min_en~  22.0  37.7   837 kyy  </span></a>
<a class="sourceLine" id="cb3-19" data-line-number="19"><span class="co">#&gt; # ... with 415 more rows</span></a></code></pre></div>
<p>To get the time series’ data for the station <code>200200</code> (<a href="http://kyy.hydroscope.gr/stations/d/200200/" class="uri">http://kyy.hydroscope.gr/stations/d/200200/</a>) we can use:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1">station_ts &lt;-<span class="st"> </span><span class="kw">subset</span>(timeseries, station_id <span class="op">==</span><span class="st"> </span><span class="dv">200200</span>)</a>
<a class="sourceLine" id="cb4-2" data-line-number="2"><span class="kw">as_tibble</span>(station_ts)</a>
<a class="sourceLine" id="cb4-3" data-line-number="3"><span class="co">#&gt; # A tibble: 4 x 8</span></a>
<a class="sourceLine" id="cb4-4" data-line-number="4"><span class="co">#&gt;   timeser_id station_id variable      timestep   units start~ end_d~ subd~</span></a>
<a class="sourceLine" id="cb4-5" data-line-number="5"><span class="co">#&gt; *      &lt;int&gt;      &lt;int&gt; &lt;chr&gt;         &lt;chr&gt;      &lt;chr&gt; &lt;chr&gt;  &lt;chr&gt;  &lt;chr&gt;</span></a>
<a class="sourceLine" id="cb4-6" data-line-number="6"><span class="co">#&gt; 1        761     200200 wind_direc    &lt;NA&gt;       °     1948-~ 1997-~ kyy  </span></a>
<a class="sourceLine" id="cb4-7" data-line-number="7"><span class="co">#&gt; 2         56     200200 precipitation 30_minutes mm    1985-~ 1997-~ kyy  </span></a>
<a class="sourceLine" id="cb4-8" data-line-number="8"><span class="co">#&gt; 3        760     200200 snow          daily      mm    1948-~ 1997-~ kyy  </span></a>
<a class="sourceLine" id="cb4-9" data-line-number="9"><span class="co">#&gt; 4        759     200200 precipitation daily      mm    1953-~ 2011-~ kyy</span></a></code></pre></div>
<p>You can get the station’s time series <strong>56</strong> (<a href="http://kyy.hydroscope.gr/timeseries/d/56/" class="uri">http://kyy.hydroscope.gr/timeseries/d/56/</a>):</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1">ts_raw &lt;-<span class="st"> </span><span class="kw"><a href="reference/get_data.html">get_data</a></span>(<span class="dt">subdomain =</span> <span class="st">"kyy"</span>,<span class="dt">time_id =</span> <span class="dv">56</span>)</a>
<a class="sourceLine" id="cb5-2" data-line-number="2">ts_raw</a>
<a class="sourceLine" id="cb5-3" data-line-number="3"><span class="co">#&gt; # A tibble: 147,519 x 3</span></a>
<a class="sourceLine" id="cb5-4" data-line-number="4"><span class="co">#&gt;    Date                Value Comment</span></a>
<a class="sourceLine" id="cb5-5" data-line-number="5"><span class="co">#&gt;    &lt;dttm&gt;              &lt;dbl&gt; &lt;chr&gt;  </span></a>
<a class="sourceLine" id="cb5-6" data-line-number="6"><span class="co">#&gt;  1 1985-05-06 08:00:00     0 1      </span></a>
<a class="sourceLine" id="cb5-7" data-line-number="7"><span class="co">#&gt;  2 1985-05-06 08:30:00     0 1      </span></a>
<a class="sourceLine" id="cb5-8" data-line-number="8"><span class="co">#&gt;  3 1985-05-06 09:00:00     0 1      </span></a>
<a class="sourceLine" id="cb5-9" data-line-number="9"><span class="co">#&gt;  4 1985-05-06 09:30:00     0 1      </span></a>
<a class="sourceLine" id="cb5-10" data-line-number="10"><span class="co">#&gt;  5 1985-05-06 10:00:00     0 1      </span></a>
<a class="sourceLine" id="cb5-11" data-line-number="11"><span class="co">#&gt;  6 1985-05-06 10:30:00     0 1      </span></a>
<a class="sourceLine" id="cb5-12" data-line-number="12"><span class="co">#&gt;  7 1985-05-06 11:00:00     0 1      </span></a>
<a class="sourceLine" id="cb5-13" data-line-number="13"><span class="co">#&gt;  8 1985-05-06 11:30:00     0 1      </span></a>
<a class="sourceLine" id="cb5-14" data-line-number="14"><span class="co">#&gt;  9 1985-05-06 12:00:00     0 1      </span></a>
<a class="sourceLine" id="cb5-15" data-line-number="15"><span class="co">#&gt; 10 1985-05-06 12:30:00     0 1      </span></a>
<a class="sourceLine" id="cb5-16" data-line-number="16"><span class="co">#&gt; # ... with 147,509 more rows</span></a></code></pre></div>
<p>Let’s create a plot:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw">library</span>(ggplot2)</a>
<a class="sourceLine" id="cb6-2" data-line-number="2"><span class="kw">ggplot</span>(<span class="dt">data =</span> ts_raw, <span class="kw">aes</span>(<span class="dt">x =</span> Date, <span class="dt">y =</span> Value))<span class="op">+</span></a>
<a class="sourceLine" id="cb6-3" data-line-number="3"><span class="st">  </span><span class="kw">geom_line</span>()<span class="op">+</span></a>
<a class="sourceLine" id="cb6-4" data-line-number="4"><span class="st">  </span><span class="kw">labs</span>(<span class="dt">title=</span><span class="st">"Daily rainfall for station 200200"</span>,</a>
<a class="sourceLine" id="cb6-5" data-line-number="5">       <span class="dt">x=</span><span class="st">"Date"</span>, <span class="dt">y =</span> <span class="st">"Rain (mm)"</span>)<span class="op">+</span></a>
<a class="sourceLine" id="cb6-6" data-line-number="6"><span class="st">  </span><span class="kw">theme_classic</span>()</a></code></pre></div>
<p><img src="reference/figures/README-plot_time_series-1.png" width="672"></p>
</section><section id="meta" class="level2"><h2>Meta</h2>
<ul>
<li>Please <a href="https://github.com/kvantas/hydroscoper/issues">report any issues or bugs</a>.</li>
<li>Licence:
<ul>
<li>All code is licenced MIT.</li>
<li>All data are from the public data sources in <a href="http://www.hydroscope.gr/" class="uri">http://www.hydroscope.gr/</a>.</li>
</ul>
</li>
<li>
<p>To cite <code>hydroscoper</code>, please use:</p>
<pre><code>Konstantinos Vantas (2017). hydroscoper: Interface to Hydroscope. R package version 0.1.0.
https://github.com/kvantas/hydroscoper</code></pre>
<p>A BibTeX entry for LaTeX users is</p>
<pre><code> @Manual{,
  title = {hydroscoper: Interface to Hydroscope},
  author = {Konstantinos Vantas},
  year = {2017},
  note = {R package version 0.1.0},
  url = {https://github.com/kvantas/hydroscoper},
}</code></pre>
</li>
<li><p>Please note that this project is released with a <a href="/CONDUCT.md">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</p></li>
</ul></section><section id="references" class="level2"><h2>References</h2>
<p><a href="http://www.hydroscope.gr/">Hydroscope</a></p>
</section>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2 class="hasAnchor">
<a href="#sidebar" class="anchor"></a>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cran.r-project.org/package=hydroscoper">https://​cran.r-project.org/​package=hydroscoper</a>
</li>
<li>Browse source code at <br><a href="https://github.com/kvantas/hydroscoper">https://​github.com/​kvantas/​hydroscoper</a>
</li>
<li>Report a bug at <br><a href="https://github.com/kvantas/hydroscoper/issues%20%20%20%20%20%20%20%20%20%20%20%20%20">https://​github.com/​kvantas/​hydroscoper/​issues             </a>
</li>
</ul>
<h2>License</h2>
<p><a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE.html">LICENSE</a></p>
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Konstantinos Vantas <br><small class="roles"> Author, maintainer </small> <br><small>(0000-0001-6387-8791)</small>
</li>
</ul>
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/kvantas/hydroscoper"><img src="https://travis-ci.org/kvantas/hydroscoper.svg?branch=master" alt="Travis-CI Build Status"></a></li>
<li><a href="https://ci.appveyor.com/project/kvantas/hydroscoper"><img src="https://ci.appveyor.com/api/projects/status/github/kvantas/hydroscoper?branch=master&amp;svg=true" alt="AppVeyor Build Status"></a></li>
<li><a href="https://codecov.io/gh/kvantas/hydroscoper"><img src="https://codecov.io/github/kvantas/hydroscoper/branch/master/graphs/badge.svg" alt="codecov"></a></li>
<li><a href="https://cran.r-project.org/"><img src="https://img.shields.io/badge/R%3E%3D-3.4.0-6666ff.svg" alt="minimal R version"></a></li>
<li><a href="https://cran.r-project.org/package=hydroscoper"><img src="http://www.r-pkg.org/badges/version/hydroscoper" alt="CRAN_Status_Badge"></a></li>
<li><a href="commits/master"><img src="https://img.shields.io/badge/Package%20version-0.1.0.9000-orange.svg?style=flat-square" alt="packageversion"></a></li>
<li><a href="https://zenodo.org/badge/latestdoi/114094911"><img src="https://zenodo.org/badge/114094911.svg" alt="DOI"></a></li>
</ul>
</div>

</div>


      <footer><div class="copyright">
  <p>Developed by Konstantinos Vantas.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://hadley.github.io/pkgdown/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  </body>
</html>
